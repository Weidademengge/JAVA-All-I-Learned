
### 简介

其实这一期视频应该算是我做数据结构与算法的第三章的课，虽然我前两章还没讲。

我一直在想我应该用什么样的文案来做这期视频。有人知道我喜欢稚晖君，我也想像他的文案风格一样，在讲的过程中添加综述、国内外研究现状以及我做了什么。可惜做的东西实在过于简陋，根本支撑不起这种论文架构的文案。

当然我也想尝试一下java之父马士兵，卖课奇才诸葛那样的风格。但总觉得差点什么。

而且，我做这个的本意就是希望能更快地让其他人了解数据结构和算法
的原理。所以我尽量用一些扯犊子的方式，能让大家更轻松的了解其中的原理。

好了，正片开始，在这我先吹个牛逼，不是我吹牛逼，听完我这节课，狗都能学会树是怎么回事儿，所以我也把这个专题也叫狗都能学会的算法

### 正片

废话不多说，现在开始。

今天讲的是二叉树，包括树的结构、都有哪些树、这些树都什么样、leetcode中关于树的深度、广度、宽度算法，以及递归的方法和非递归的方法。之后会说一下什么是bstree、avltree、红黑树、以及和红黑树对应的234树、以及和234树对应的b（b-）树，以及b树的扩展b+树，也就是mysql innodb的数据结构。所以这节课时间会比较长。

讲二叉树之前，先说一下为什么会出现二叉树这么恶心的数据结构

现在大家肯定都知道ArrayList的底层是数组，LinkedList底层是链表。
ArrayList可以通过查找下标的方式查找到数据，但linkedList需要每个节点遍历是否是想要的节点，才能查到数据。
但ArrayList添加元素需要对数组进行扩充，并把所有的数据放入到新数组中，LinkedList直接可以在想要添加的节点后面添加数据。

## 二叉树介绍

所以这时候就有人想，能不能整一个数据结构让我们增删改查都能快点。这时候就有人想出一个叫搜索二叉树的概念。相比于二叉树，我更想叫它劈叉链表

当然对于我们做数据的增删改查用到最多的就是搜索二叉树。但二叉树除了这个功能外，还具有一个分类的功能，在机器学习中决策树、随机森林用到的也都是树的这种结构。

接下来讲讲关于树的数据结构和都有哪些树？

首先树就是比链表多了一个指针，但是用指针来说明就容易孟比。现在都叫左儿子和右儿子。如果左右儿子也不好理解，那就假如这家血统非常牛逼，生的全是龙凤胎，然后男左女右的站着。这里我觉得怎么理解都行。

在leetcode中，为了好计算node 中的值都设为int类型，当然我们也可以使用泛型表示。


## 满二叉树

然后介绍一下什么是满二叉树：
	`如果一棵二叉树只有度为0的节点和度为2的节点，并且度为0的节点在同一层上，则这棵二叉树为满二叉树`
这种非常严谨的话只能说它没错，但是就是那种不想让别人理解。
简单点说， 满二叉树就是最下面那层是满的就行。要是缺了一个就不是满二叉树。

## 完全二叉树

下面说一下什么是完全二叉树，定义我就不说了，比满二叉树还要恶心，大家可以上网自己看。
在我这看简单点说所有的数据都是从左往右依次添加，不能因为还没添加左，就添加右了，当然也不能还没添加完当前层，就去添加下一层。

## 搜索二叉树

接下来就回到了刚才说的搜索二叉树，这里简单概括一下，在我看来搜索二叉树就是如果下一个叫节点的值比当前小就放左边，大就放右边。其实搜索二叉树就是二分查找，但搜索二叉树有个问题

关于234树，红黑树、b+树我会在后面详细讲解。这里我们先跳过，先做一些简单的题。

## 二叉树的深度、广度、morris遍历

前面那一节就是算是简单介绍一下二叉树，接下来说一下二叉树的深度优先和广度优先遍历。

其实正常来说，很多互联网公司的笔试题中会有给你个树，让你说出它的前中后序是什么样的。
在leetcode评论中，也看到很多公司面试算法的时候，要求怎么写非递归的前中后序。

## 深度遍历

如果我们要想打印一个数组或者一组链表，基本上就是从左往右打印，当然你也可以跳着打印，也可以反着打印。但对于一个树结构来说，我们想要遍历一个树，好像没有什么默认的方法。这时候我们就有了前中后序三种遍历。
这三种遍历在leetcode中的题号分别是144，94，145。

现在我们对二叉树走一次遍历，方式就是只要先左后右，如果左为null或者右为null就返回自己，每次经过自己都要打印自己的节点。

### recusive

他家就剩个爷爷，他家族谱就很恶心，喜欢男左女右，你看着就就不爽，你就想打他们家。他们家也是贱皮子，说可以打我，但你得按顺序打。前序的打法就是，先可男丁揍，揍完男的再揍女的。
先打爷爷、再打儿子、再打孙子，打完孙子打他孙女，男方打完了，该打女方了。这往下讲会不会被女拳喷死，算了都打到这了。你就打他女儿，然后打他外孙，再打外孙女。

中序先不讲，直接讲后续，后续就是你要打爷爷，他爷爷上来就说，你得先打年轻的，把我两个年轻的孩子打死了才能打我，结果儿子和女儿也都这b样。你就很生气，然后就打他孙子，再打孙女，回头问儿子，你俩孩子我都打完了，该你了吧，然后打他。同样。。。

这个也是八股文里的经典面试题，给一棵树说一下它的先中后序的三种打印顺序。

刚才为什么没讲中序，因为中序最简单，是条狗都会写。

## 写代码，前中后序

接下来就是递归的套路了，


其实这个递归也非常好理解，前序就是到哪打哪，中序等会说，后序是到哪先不打，

## 如何写递归

分别是我要什么，我能给什么，终止条件和递归逻辑

回到刚才的先中后序，讲一下

我们做几个leetcode关于树的简单题，感觉一下递归怎么写

### 104

如果是递归来做的话，其实就是求它的高度，因为我们要从最下面的节点一步步往上返回。所以我们需要确定要写的递归方法能给我们什么，我只要知道了它的左子树的高度和右子树的高度我就知道当前节点的高度。第二个我能给什么，我能把我的左右节点给他可以了。终止条件就是如果node
为null，那么高度就是0。

### 101

你只要告诉我他俩的值等不等就完了，我能给的是两个节点，你要告诉我结果是否是对称的。

### 98

左子树的最大值要小于当前节点的值，右子树的最小值要大于当前节点。
如果递归到下一个节点，我得给你这个节点的最大值和这个节点的最小值。只要在这个范围内，你就告诉我是不是递增就行了。

比如说，我现在递归到1了，那么我现在可以给你的就是5节点的值，而5节点的值恰好是1节点的最大值。同样如果我们遍历到4节点，那么我给你的就是4节点的最小值是5，最大值无所谓。它只要比5大就行，10000,20000都行。但是如果我递归到3，那么我要给他的最大值是4，最小值是5。

### 链表

这里拿回链表作为一个例子。链表不就相当于一个单线的深度遍历吗。

## 图的深度优先

当前我们的一个节点是有两个指针，如果我们增加上下两个指针，把它们合并到一起，可以发现，这个变成了二维数组，以这个岛屿问题为例啊，


## 红黑树

接下来就是红黑树，这个确实有点难，其实主要难的地方就只有两点，一个是这破玩意是怎么想出来的，另一个是怎么改这个树结构。

这里我查了很多资料，大部分的视频和课程基本上都没说明白这两件事。基本上直说红黑树的五个性质。然后简单说几句就算了。b站上有一个视频讲的还行，但是这个老师觉得红黑树就是234树，所以在操作红黑树的增删过程中，都会在234树中找增删的过程。但后面他在写删除的时候他自己也被234树和红黑树整迷糊了，给我也整懵逼了。

这里我是基于自己的想法说明红黑树是怎么来的，但也不一定对。

首先是编程人员发现avl树有个问题，就是每次插入删除，都需要不停的对树结构进行操作，包括左旋右旋，前驱后继，这样的话，插入一个数据很消耗资源。所以他们就想着能不能重新构造一个平衡术，但这个平衡不是高度小于2，而是我让一撇的高度不超过另一撇的高度的2倍。也就是现在这个样子。可以看到左树的深度是3，右树的深度可以达到6。

但这样的话，这棵树不符合avl平衡的定义。所以作者就说，我这有一些节点不算。当然其实更准备的应该是，作者要想保持左右2倍高度的关系，需要对一些节点做一些处理，如果不这么做，根本不知道我接下来的节点怎么插入。所以这时候有些几点它给标记成红色。

然后有人想既然这些红色不算，那我把红色节点应该在上一层啊。我们把这些红节点放到上面，一看，我草，这不是234树吗。