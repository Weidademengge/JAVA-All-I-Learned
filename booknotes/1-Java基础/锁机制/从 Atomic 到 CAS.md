Java 内存模型要保证可见性，原子性和有序性。

在 JDK 5之前 Java 语言是靠 `synchronized` 关键字保证同步的，但 `synchronized` 是一种独占锁，是一种悲观锁， **会导致其它所有需要锁的线程挂起，等待持有锁的线程释放锁** ，效率不是很高。

Java 虚拟机又提供了一个轻量级的同步机制——`volatile`

但是 `volatile` 算是乞丐版的 `synchronized`，并不能保证原子性 ，所以，又增加了java.util.concurrent.atomic包， 这个包下提供了一系列原子类。

## 1、`**Atomic**` 原子类

`Atomic` 原子类可以保证多线程环境下，当某个线程在执行 atomic 的方法时，不会被其他线程打断，而别的线程就像自旋锁一样，一直等到该方法执行完成，才由 JVM 从等待队列中选择一个线程执行。`Atomic` 类在软件层面上是非阻塞的，它的原子性其实是在硬件层面上借助相关的指令来保证的。